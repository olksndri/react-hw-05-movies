{"version":3,"file":"static/js/88.b0d6adab.chunk.js","mappings":"8LACA,GAAgB,gBAAgB,8BAA8B,MAAQ,sBAAsB,QAAU,wBAAwB,MAAQ,sBAAsB,UAAY,0BAA0B,aAAa,4B,6DC6D/M,EAvDe,WACX,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,SA8B/B,OAlBAC,EAAAA,EAAAA,YAAU,WACQ,OAAVF,IACAG,EAAAA,EAAAA,GAAU,sBAADC,OAAuBJ,IAC3BK,MAAK,SAAAC,GAA0B,IAAhBC,EAAOD,EAAfE,KAAQD,QACZf,EAASe,EAAQE,KAAI,SAAAC,GACjB,OACIC,EAAAA,EAAAA,KAAA,MAAmBC,UAAWC,EAAAA,KAASC,UACnCH,EAAAA,EAAAA,KAACI,EAAAA,EAAU,CAACC,GAAE,GAAAZ,OAAKM,EAAGO,IAAMC,MAAO,CAACC,KAAMrB,GAAUgB,cAClCM,IAAbV,EAAGW,MAAsBX,EAAGY,KAAOZ,EAAGW,UAFtCE,EAAAA,EAAAA,MAMrB,IACA,IACCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAI,GAE1C,GAAG,CAAC7B,EAAcE,EAAUE,KAGxB4B,EAAAA,EAAAA,MAAA,OAAKhB,UAAWC,EAAAA,iBAAqBC,SAAA,EACjCc,EAAAA,EAAAA,MAAA,QAAMC,OAAO,GAAGC,SA9BP,SAAAC,GACbA,EAAIC,iBACJ,IAAMC,EAAaF,EAAIG,OAAOC,iBAAiBC,kBAAkBC,MACjExC,EAAgB,CAAEG,MAAOiC,EAAWK,QACxC,EA0B2CxB,SAAA,EAC/BH,EAAAA,EAAAA,KAAA,SAAO4B,QAAQ,SAAS3B,UAAWC,EAAAA,MAAUC,SAAC,0BAC9Cc,EAAAA,EAAAA,MAAA,OAAKhB,UAAWC,EAAAA,QAAYC,SAAA,EACxBH,EAAAA,EAAAA,KAAA,SAAO6B,KAAK,OAAOlB,KAAK,SAASV,UAAWC,EAAAA,MAAWI,GAAG,SAASwB,QA3BnE,WACZ5C,EAAgB,CAACG,MAAO,IAC5B,KA0BgBW,EAAAA,EAAAA,KAAA,UAAQ6B,KAAK,SAAS5B,UAAWC,EAAAA,UAAcC,UAC3Cc,EAAAA,EAAAA,MAAA,OAAKc,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAM/B,SAAA,EACvDH,EAAAA,EAAAA,KAAA,QAAMmC,EAAE,wKACRnC,EAAAA,EAAAA,KAAA,QAAMmC,EAAE,iDAKxBnC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAAA,cAAkBC,SAC5BvB,MAIjB,C","sources":["webpack://react-homework-template/./src/styles/Movies.module.css?57c6","components/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Movie-wrapper\":\"Movies_Movie-wrapper__eQiQe\",\"label\":\"Movies_label__a08SW\",\"wrapper\":\"Movies_wrapper__cGnvs\",\"input\":\"Movies_input__jOXUb\",\"searchBtn\":\"Movies_searchBtn__eBSlW\",\"films-list\":\"Movies_films-list__xLfai\"};","import css from '../styles/Movies.module.css'; \nimport { useState, useEffect } from \"react\";\nimport { nanoid } from 'nanoid';\nimport { getFromDB } from 'js/getFromDB';\nimport { StyledLink } from './App';\nimport { useSearchParams, useLocation } from \"react-router-dom\";\n\nconst Movies = () => {\n    const [films, setFilms] = useState([]); \n    const [searchParams, setSearchParams] = useSearchParams();\n    const location = useLocation(); \n    const query = searchParams.get(\"query\"); \n\n    const onSubmit = evt => { \n        evt.preventDefault(); \n        const inputValue = evt.target.lastElementChild.firstElementChild.value; \n        setSearchParams({ query: inputValue.trim() }); \n    }\n\n    const onInput = () => {\n        setSearchParams({query: ''}); \n    }\n\n    useEffect(() => {\n        if (query !== null) { \n            getFromDB(`search/movie?query=${query}`)\n                .then(({data: { results }}) => {\n                    setFilms(results.map(el => { \n                        return (\n                            <li key={nanoid()} className={css.item}>\n                                <StyledLink to={`${el.id}`} state={{from: location}}>\n                                    {el.title === undefined ? el.name : el.title}\n                                </StyledLink>\n                            </li>\n                        )\n                }))\n                })\n                .catch(err => console.log(err));  \n       }\n    }, [searchParams, location, query])\n\n    return (\n        <div className={css['Movie-wrapper']}> \n            <form action=\"\" onSubmit={onSubmit}> \n                <label htmlFor=\"search\" className={css.label}>Search films by name</label>\n                <div className={css.wrapper}>\n                    <input type=\"text\" name='search' className={css.input} id='search' onInput={onInput}/>\n                    <button type='submit' className={css.searchBtn}>\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 18 18\" fill=\"none\">\n                            <path d=\"M8.25 14.25C11.5637 14.25 14.25 11.5637 14.25 8.25C14.25 4.93629 11.5637 2.25 8.25 2.25C4.93629 2.25 2.25 4.93629 2.25 8.25C2.25 11.5637 4.93629 14.25 8.25 14.25Z\"/>\n                            <path d=\"M15.7508 15.7498L12.4883 12.4873\"/>\n                        </svg>\n                    </button>\n                </div>\n            </form>\n            <ol className={css['films-list']}>\n                {films}\n            </ol>\n        </div>\n    )\n}\n\nexport default Movies; "],"names":["_useState","useState","_useState2","_slicedToArray","films","setFilms","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","query","get","useEffect","getFromDB","concat","then","_ref","results","data","map","el","_jsx","className","css","children","StyledLink","to","id","state","from","undefined","title","name","nanoid","catch","err","console","log","_jsxs","action","onSubmit","evt","preventDefault","inputValue","target","lastElementChild","firstElementChild","value","trim","htmlFor","type","onInput","width","height","viewBox","fill","d"],"sourceRoot":""}